# Tests for Sqlite::func
source sqlitefunc.tcl
package require tcltest

tcltest::test string ascii {Sqlite::func::ascii a} "97"
tcltest::test string ascii {Sqlite::func::ascii A} "65"
tcltest::test string concat {Sqlite::func::concat} ""
tcltest::test string concat {Sqlite::func::concat word1} "word1"
tcltest::test string concat {Sqlite::func::concat word1 word2} "word1word2"
tcltest::test string concat {Sqlite::func::concat word1 word2 word3} "word1word2word3"
tcltest::test string concat_ws -body {Sqlite::func::concat_ws} -result {wrong # args: should be "Sqlite::func::concat_ws s ..."} -returnCodes error
tcltest::test string concat_ws {Sqlite::func::concat_ws -} ""
tcltest::test string concat_ws {Sqlite::func::concat_ws - a} "a"
tcltest::test string concat_ws {Sqlite::func::concat_ws - a b c} "a-b-c"
tcltest::test string concat_ws {Sqlite::func::concat_ws + a b c} "a+b+c"
tcltest::test string convert {set Sqlite::func::version 3; Sqlite::func::convert [encoding convertfrom utf-8 abc] utf-8 utf-8} abc
tcltest::test string convert {set Sqlite::func::version 3; Sqlite::func::convert [encoding convertto cp932 ‚ ‚¢‚¤] cp932 euc-jp} [encoding convertto euc-jp ‚ ‚¢‚¤]
tcltest::test string convert {set Sqlite::func::version 2; Sqlite::func::convert [encoding convertfrom utf-8 abc] utf-8 utf-8} abc
tcltest::test string convert {set Sqlite::func::version 2; Sqlite::func::convert [encoding convertfrom identity [encoding convertto cp932 ‚ ‚¢‚¤]] cp932 euc-jp} [encoding convertfrom identity [encoding convertto euc-jp ‚ ‚¢‚¤]]
tcltest::test string elt {Sqlite::func::elt 0 a b c} ""
tcltest::test string elt {Sqlite::func::elt 1 a b c} "a"
tcltest::test string elt {Sqlite::func::elt 2 a b c} "b"
tcltest::test string elt {Sqlite::func::elt 3 a b c} "c"
tcltest::test string elt {Sqlite::func::elt 4 a b c} ""
tcltest::test string initcap {Sqlite::func::initcap ""} ""
tcltest::test string initcap {Sqlite::func::initcap "a"} "A"
tcltest::test string initcap {Sqlite::func::initcap "aBC"} "Abc"
tcltest::test string initcap {Sqlite::func::initcap "ABC"} "Abc"
tcltest::test string initcap {Sqlite::func::initcap " abc"} " Abc"
tcltest::test string initcap {Sqlite::func::initcap "abc def"} "Abc Def"
tcltest::test string initcap {Sqlite::func::initcap "abc  def"} "Abc  Def"
tcltest::test string initcap {Sqlite::func::initcap "abc  def  g"} "Abc  Def  G"
tcltest::test string initcap {Sqlite::func::initcap "abc\ndef"} "Abc\nDef"
tcltest::test string initcap {Sqlite::func::initcap "abc\tdef"} "Abc\tDef"
tcltest::test string initcap {Sqlite::func::initcap "‚ ‚¢abc"} "‚ ‚¢abc"
tcltest::test string initcap {Sqlite::func::initcap "‚ ‚¢abc d"} "‚ ‚¢abc D"
tcltest::test string insert {Sqlite::func::insert abcdef 2 2 AB} aABdef
tcltest::test string insert {Sqlite::func::insert abcdef 2 2 A} aAdef
tcltest::test string left {Sqlite::func::left abcde 0} ""
tcltest::test string left {Sqlite::func::left abcde 1} "a"
tcltest::test string left {Sqlite::func::left abcde 4} "abcd"
tcltest::test string left {Sqlite::func::left abcde 5} "abcde"
tcltest::test string left {Sqlite::func::left abcde 6} "abcde"
tcltest::test string lpad {Sqlite::func::lpad a 3} "  a"
tcltest::test string lpad {Sqlite::func::lpad ab 3} " ab"
tcltest::test string lpad {Sqlite::func::lpad abc 3} "abc"
tcltest::test string lpad {Sqlite::func::lpad abcd 3} "bcd"
tcltest::test string lpad {Sqlite::func::lpad a 3 A} "AAa"
tcltest::test string lpad {Sqlite::func::lpad a 3 AB} "ABa"
tcltest::test string lpad {Sqlite::func::lpad a 3 ABC} "ABa"
tcltest::test string lpad {Sqlite::func::lpad a 3 ‚ } "‚ a"
tcltest::test string lpad {Sqlite::func::lpad a 2 ‚ } " a"
tcltest::test string lpad {Sqlite::func::lpad ‚  1 0} " "
tcltest::test string lpad {Sqlite::func::lpad ‚  2 0} "‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  4 0} "00‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  3 ‚¢} " ‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  4 ‚¢} "‚¢‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  5 ‚¢} "‚¢ ‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  6 ‚¢} "‚¢‚¢‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚  6 ‚¢u} "‚¢u ‚ "
tcltest::test string lpad {Sqlite::func::lpad ‚ i 5 u} "uu‚ i"
tcltest::test string lpad {Sqlite::func::lpad ‚ i 5 ue} "ue‚ i"
tcltest::test string mid {Sqlite::func::mid abcde 1 3} "abc"
tcltest::test string mid {Sqlite::func::mid abcde 2 3} "bcd"
tcltest::test string mid {Sqlite::func::mid abcde 5 3} "e"
tcltest::test string mid {Sqlite::func::mid abcde 6 3} ""
tcltest::test string mid {Sqlite::func::mid abcde 0 3} "ab"
tcltest::test string repeat {Sqlite::func::repeat "a" 0} ""
tcltest::test string repeat {Sqlite::func::repeat "a" 3} "aaa"
tcltest::test string repeat {Sqlite::func::repeat "‚ " 3} "‚ ‚ ‚ "
tcltest::test string reverse {Sqlite::func::reverse "012345"} "543210"
tcltest::test string reverse {Sqlite::func::reverse "‚ ‚¢‚¤‚¦‚¨"} "‚¨‚¦‚¤‚¢‚ "
tcltest::test string right {Sqlite::func::right abcde 3} "cde"
tcltest::test string right {Sqlite::func::right abcde 0} ""
tcltest::test string right {Sqlite::func::right ‚ ‚¢‚¤ 2} "‚¢‚¤"
tcltest::test string right {Sqlite::func::right ‚ ‚¢ue 3} "‚¢ue"
tcltest::test string rpad {Sqlite::func::rpad a 3} {a  }
tcltest::test string rpad {Sqlite::func::rpad ab 3} {ab }
tcltest::test string rpad {Sqlite::func::rpad abc 3} {abc}
tcltest::test string rpad {Sqlite::func::rpad abcd 3} "abc"
tcltest::test string rpad {Sqlite::func::rpad a 3 A} "aAA"
tcltest::test string rpad {Sqlite::func::rpad a 3 AB} "aAB"
tcltest::test string rpad {Sqlite::func::rpad a 3 ABC} "aAB"
tcltest::test string rpad {Sqlite::func::rpad a 3 ‚ } "a‚ "
tcltest::test string rpad {Sqlite::func::rpad a 2 ‚ } "a "
tcltest::test string rpad {Sqlite::func::rpad ‚  1 0} " "
tcltest::test string rpad {Sqlite::func::rpad ‚  2 0} "‚ "
tcltest::test string rpad {Sqlite::func::rpad ‚  4 0} "‚ 00"
tcltest::test string rpad {Sqlite::func::rpad ‚  3 ‚¢} "‚  "
tcltest::test string rpad {Sqlite::func::rpad ‚  4 ‚¢} "‚ ‚¢"
tcltest::test string rpad {Sqlite::func::rpad ‚  5 ‚¢} "‚ ‚¢ "
tcltest::test string rpad {Sqlite::func::rpad ‚  6 ‚¢} "‚ ‚¢‚¢"
tcltest::test string rpad {Sqlite::func::rpad ‚  6 ‚¢u} "‚ ‚¢u "
tcltest::test string rpad {Sqlite::func::rpad ‚ i 5 u} "‚ iuu"
tcltest::test string rpad {Sqlite::func::rpad ‚ i 5 ue} "‚ iue"
tcltest::test string space {Sqlite::func::space 0} ""
tcltest::test string space {Sqlite::func::space 3} "   "
tcltest::test string translate {Sqlite::func::translate bdca abc ABC} "BdCA"
tcltest::test string translate {Sqlite::func::translate bdca abcd ABC} "BCA"
tcltest::test string to_char {Sqlite::func::to_char 0.1 999.9,9} "####"
tcltest::test string to_char {Sqlite::func::to_char 0.1 999..99} "####"
tcltest::test string to_char {Sqlite::func::to_char 0.1a 99999} "####"
tcltest::test string to_char {Sqlite::func::to_char 1000 9999} " 1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 FM9999} "1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 FM9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 S9999} "+1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 S9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 FMS9999} "+1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 FMS9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 9999S} "1000+"
tcltest::test string to_char {Sqlite::func::to_char -1000 9999S} "1000-"
tcltest::test string to_char {Sqlite::func::to_char 1000 FM9999S} "1000+"
tcltest::test string to_char {Sqlite::func::to_char -1000 FM9999S} "1000-"
tcltest::test string to_char {Sqlite::func::to_char 1000 B9999} " 1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 B9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 FMB9999} "1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 FMB9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 SB9999} "+1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 SB9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 FMSB9999} "+1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 FMSB9999} "-1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 B9999S} "1000+"
tcltest::test string to_char {Sqlite::func::to_char -1000 B9999S} "1000-"
tcltest::test string to_char {Sqlite::func::to_char 1000 FMB9999S} "1000+"
tcltest::test string to_char {Sqlite::func::to_char -1000 FMB9999S} "1000-"
tcltest::test string to_char {Sqlite::func::to_char 0.1 999.99} "    .10"
tcltest::test string to_char {Sqlite::func::to_char 0.1 B999.99} "    .10"
tcltest::test string to_char {Sqlite::func::to_char 0.1 FM999.99} ".1"
tcltest::test string to_char {Sqlite::func::to_char 0.1 FMS999.99} "+.1"
tcltest::test string to_char {Sqlite::func::to_char -0.1 999.99} "   -.10"
tcltest::test string to_char {Sqlite::func::to_char -0.1 B999.99} "   -.10"
tcltest::test string to_char {Sqlite::func::to_char -0.1 FM999.99} "-.1"
tcltest::test string to_char {Sqlite::func::to_char -0.1 FMS999.99} "-.1"
tcltest::test string to_char {Sqlite::func::to_char 0.1 900.09} "  00.10"
tcltest::test string to_char {Sqlite::func::to_char 0.1 B900.09} "  00.10"
tcltest::test string to_char {Sqlite::func::to_char 0.1 FM900.09} "00.1"
tcltest::test string to_char {Sqlite::func::to_char 0.1 FMS900.09} "+00.1"
tcltest::test string to_char {Sqlite::func::to_char -0.1 900.09} " -00.10"
tcltest::test string to_char {Sqlite::func::to_char -0.1 B900.09} " -00.10"
tcltest::test string to_char {Sqlite::func::to_char -0.1 FM900.09} "-00.1"
tcltest::test string to_char {Sqlite::func::to_char -0.1 FMS900.09} "-00.1"
tcltest::test string to_char {Sqlite::func::to_char 1000 999999} "   1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 099999} " 001000"
tcltest::test string to_char {Sqlite::func::to_char 1000 909999} "  01000"
tcltest::test string to_char {Sqlite::func::to_char 1000 990999} "   1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 B999999} "   1000"
tcltest::test string to_char {Sqlite::func::to_char -1000 B999999} "  -1000"
tcltest::test string to_char {Sqlite::func::to_char 0 B999} "    "
tcltest::test string to_char {Sqlite::func::to_char +123.0 B999.009} " 123.000"
tcltest::test string to_char {Sqlite::func::to_char +123.0 999.009} " 123.000"
tcltest::test string to_char {Sqlite::func::to_char +123.0 FM999.009} "123.00"
tcltest::test string to_char {Sqlite::func::to_char +123.0 FMB999.009} "123.00"
tcltest::test string to_char {Sqlite::func::to_char 0.0 B999.009} "        "
tcltest::test string to_char {Sqlite::func::to_char +123.0 999.999} " 123.000"
tcltest::test string to_char {Sqlite::func::to_char +123.0 999.009} " 123.000"
tcltest::test string to_char {Sqlite::func::to_char +123.0 999.000} " 123.000"
tcltest::test string to_char {Sqlite::func::to_char +123.0 FM999.999} "123."
tcltest::test string to_char {Sqlite::func::to_char +123.0 FM999.009} "123.00"
tcltest::test string to_char {Sqlite::func::to_char +123.0 FM999.000} "123.000"
tcltest::test string to_char {Sqlite::func::to_char 0.0 999.009} "    .000"
tcltest::test string to_char {Sqlite::func::to_char 1000 9999} " 1000"
tcltest::test string to_char {Sqlite::func::to_char 1000 9,999} " 1,000"
tcltest::test string to_char {Sqlite::func::to_char 10 99.99} " 10.00"
tcltest::test string to_char {Sqlite::func::to_char -10 99.99} "-10.00"
tcltest::test string to_char {Sqlite::func::to_char -10 99.99S} "10.00-"
tcltest::test string to_char {Sqlite::func::to_char 10 99D99S} "10.00+"
tcltest::test string to_char {Sqlite::func::to_char 1234567890 FM9G999G999G999} "1,234,567,890"
tcltest::test string to_char {Sqlite::func::to_char 10 99G999D99} "     10.00"
tcltest::test string to_char {Sqlite::func::to_char 10 00G000D00} " 00,010.00"
tcltest::test string to_char {Sqlite::func::to_char 0.0 999G999D999} "        .000"
tcltest::test string to_char {Sqlite::func::to_char -1234567890 9999999999S} {1234567890-}
tcltest::test string to_char {Sqlite::func::to_char 0 99.99} "   .00"
tcltest::test string to_char {Sqlite::func::to_char +0.1 99.99} "   .10"
tcltest::test string to_char {Sqlite::func::to_char -0.2 99.99} "  -.20"
tcltest::test string to_char {Sqlite::func::to_char 0 90.99} "  0.00"
tcltest::test string to_char {Sqlite::func::to_char +0.1 90.99} "  0.10"
tcltest::test string to_char {Sqlite::func::to_char -0.2 90.99} " -0.20"
tcltest::test string to_char {Sqlite::func::to_char 0 9999} "    0"
tcltest::test string to_char {Sqlite::func::to_char 1 9999} "    1"
tcltest::test string to_char {Sqlite::func::to_char 0 B9999} "     "
tcltest::test string to_char {Sqlite::func::to_char 1 B9999} "    1"
tcltest::test string to_char {Sqlite::func::to_char 0 B90.99} "      "
tcltest::test string to_char {Sqlite::func::to_char +123.456 999.999} " 123.456"
tcltest::test string to_char {Sqlite::func::to_char -123.456 999.999} "-123.456"
tcltest::test string to_char {Sqlite::func::to_char +123.456 FM999.009} "123.456"
tcltest::test string to_char {Sqlite::func::to_char +123.45 FM999.009} "123.45"
tcltest::test string to_char {Sqlite::func::to_char +123.0 FM999.009} "123.00"
tcltest::test string to_char {Sqlite::func::to_char +1234567890 9999999999S} "1234567890+"
